<!DOCTYPE html>
<html>
   <head>
      <meta charset="utf-8">
      <link href="/styles.css" rel="stylesheet">
      <title>Create and Edit Blog Posts</title>
   </head>
   <body>
      <header class="navbar">
       <div class="logo-container">
           <img src="logo.jpg" alt="Logo" class="header-image">
           <h2 class="library-title">Blogs</h2>
       </div>

       <div class="nav-profile-container">
           <nav class="nav-links">
               <ul>
                   <li><a href="/">Home</a></li>
                   <li><a href="/login">Login</a></li>

               </ul>
           </nav>
       </div>
      </header>

       <!-- Flash Messages -->
       <% if (messages.error) { %>
           <div class="error-message">
               <p><%= messages.error %></p>
           </div>
       <% } %>

       <% if (messages.success) { %>
           <div class="success-message">
               <p><%= messages.success %></p>
           </div>
       <% } %>

       <h1>All Blog Posts</h1>
       <p>Below you can view previous posts as well as edit and delete them</p>

       <ul>
       <% blogPosts.forEach(function(post) { %>
         <hr class="thin-line">
         <h3><b><%= post.title %></b></h3>
         <p><b>Creator:</b> <%= post.creator_name %></p>
         <p><b>Content:</b> <%= post.body %></p>
         <p><b>Created At:</b> <%= post.date_created %></p>

         <a href="/edit/<%= post.blog_id %>"><button type="button" class="edit-button">Edit</button></a>
         
         <form action="/delete/<%= post.blog_id %>" method="post" class="delete-form">      
            <button type="submit" class="delete-button">Delete</button>
        </form>
          <% }) %>
   </ul>
         <hr class="thick-line">
         <h2>Create a New Blog Post</h2>
         <p>Below you will enter the title, content, and creator name</p>
         <form action="/create-form" method="post">
           <label for="title">Title:</label>
           <br>
           <textarea id="title" name="title" rows="1" cols="60" required></textarea>
           <br><br>

           <label for="name">Creator Name:</label>
           <br>
           <textarea id="name" name="name" rows="1" cols="60" required></textarea>
           <br><br>

           <label for="content">Content:</label>
           <br>
           <textarea id="content" name="content" rows="8" cols="60" required></textarea>
           <br><br>

          <div class="center-button">
              <button type="submit">Submit Post</button>
         </div>
         </form>
      </body>
</html>
